---
- hosts: VPS
  name: Provision VPS(s)
  gather_facts: yes
  become: yes
  vars_files:
    - vars/default.yml
  roles:
    - base
    - zsh
    - docker
    - postgresql
    - mariadb
    - redis
    - nginx
    - php
    - websites
    - vaultwarden
    - shiori
    - firefly3
    - dnote
    - focalboard
    - monica
    - searx
    - invidious
    - backup
    - blocky
    - wireguard
    - monitoring

  tasks:
    - name: setup ad-block list update hosts git automation
      include_tasks: tasks/hosts-git.yml
      when: setup_hosts_git

    - name: WOW
      debug:
        msg: "Playbook Completed"
